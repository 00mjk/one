.\" DO NOT MODIFY THIS FILE!  It was generated by help2man 1.37.1.
.TH OPENNEBULAPRO "1" "May 2011" "OpenNebulaPro 2.2.0" "User Commands"
.SH NAME
OpenNebulaPro \- OpenNebula Database command
.SH SYNOPSIS
.B onedb
[\fI<options>\fR] \fI<command> \fR[\fI<parameters>\fR]
.SH DESCRIPTION

This command enables the user to manage the OpenNebula database. It provides
information about the DB version, means to upgrade it to the latest version, and
backup tools.
.SH OPTIONS
.TP
\fB\-v\fR, \fB\-\-verbose\fR
Tells more information if the command
is successful
.TP
\fB\-f\fR, \fB\-\-force\fR
Forces the backup even if the DB exists
.TP
\fB\-\-backup\fR file
Use this file to store/read SQL dump
.TP
\fB\-s\fR, \fB\-\-sqlite\fR file
SQLite DB file
.TP
\fB\-\-server\fR host
MySQL server hostname or IP. Defaults to localhost
.TP
\fB\-\-port\fR port
MySQL server port. Defaults to 3306
.TP
\fB\-\-user\fR username
MySQL username
.TP
\fB\-\-passwd\fR password
MySQL password. Leave unset to be prompted for it
.TP
\fB\-\-dbname\fR name
MySQL DB name for OpenNebula
.TP
\fB\-h\fR, \fB\-\-help\fR
Shows this help message
.TP
\fB\-\-version\fR
Shows version and copyright information
.PP
DB Connection options:
.PP
By default, onedb reads the connection data from oned.conf
If any of these options is set, oned.conf is ignored (i.e. if you set MySQL's
port onedb won't look for the rest of the options in oned.conf)
.SH COMMANDS
.TP
\fBupgrade\fR (Upgrades the DB to the latest version)
.IP
onedb upgrade [<version>]
.IP
where <version> : DB version (e.g. 1, 3) to upgrade. By default the DB is
.IP
upgraded to the latest version
.TP
\fBversion\fR (Prints the current DB version. Use \fB\-v\fR flag to see also OpenNebula version)
.IP
onedb version
.TP
\fBhistory\fR (Prints the upgrades history)
.IP
onedb history
.TP
\fBbackup\fR (Dumps the DB to a file)
.IP
onedb backup [<output_file>]
.IP
where <output_file> : Same as \fB\-\-backup\fR
.TP
\fBrestore\fR (Restores the DB from a backup file. Only restores backups generated
.IP
from the same backend (SQLite or MySQL))
.IP
onedb restore [<backup_file>]
.IP
where <backup_file> : Same as \fB\-\-backup\fR
.SH COPYRIGHT
Copyright 2010\-2011, C12G Labs S.L.
.PP
Licensed under the C12G Commercial Open\-source License (the
"License"); you may not use this file except in compliance
with the License. You may obtain a copy of the License as part
of the software distribution.
.PP
Unless agreed to in writing, software distributed under the
License is distributed on an "AS IS" BASIS, WITHOUT WARRANTIES
OR CONDITIONS OF ANY KIND, either express or implied. See the
License for the specific language governing permissions and
limitations under the License.
