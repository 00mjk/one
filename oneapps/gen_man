#!/usr/bin/env ruby

# -------------------------------------------------------------------------- #
# Copyright 2010-2012, C12G Labs S.L.                                        #
#                                                                            #
# Licensed under the C12G Commercial Open-source License (the                #
# "License"); you may not use this file except in compliance                 #
# with the License. You may obtain a copy of the License as part             #
# of the software distribution.                                              #
#                                                                            #
# Unless agreed to in writing, software distributed under the                #
# License is distributed on an "AS IS" BASIS, WITHOUT WARRANTIES             #
# OR CONDITIONS OF ANY KIND, either express or implied. See the              #
# License for the specific language governing permissions and                #
# limitations under the License.                                             #
#--------------------------------------------------------------------------- #

require 'fileutils'
FileUtils.mkdir_p('man1-one')
Dir.chdir('man1-one')

MAN={
    :appstage => 'OpenNebula Environments Tool',
    :appflow => 'AppFlow Service management',
    :'appflow-template' => 'AppFlow Service Template management',
    :appmarket => 'AppMarket appliances management',
    :'appmarket-user' => 'AppMarket users management'
}

MAN.each do |command, description|
    cmd="#{command} --help> #{command}.1.ronn"
    system cmd

    man_description="#{command}(1) -- #{description}"
    cmd="ronn --style toc --manual='#{man_description}' #{command}.1.ronn"
    puts cmd
    system cmd
end
